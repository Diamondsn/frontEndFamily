# 操作系统

## 进程与线程

1. 线程可提高程序的并发执行，可提高系统效率
2. 一个线程可创建多个线程
3. 线程间可使用信号量来实现同步
4. 操作系统内核可调度内核级线程、进程，不能调度用户级线程

## 管道

管道是单向的、先进先出的，它把一个进程的输出和另一个进程的输入连接在一起，又称为pipe文件  
一个进程（写进程）在管道的 尾部写入数据，另一个进程（读进程）从管道的头部读出数据  
类似于通信中的半双工系统，可以双向传输，但同一时刻只能一个方向传输，不能两个方向同时进行  
管道的容量通常为内存上的一页，所以不受磁盘限制  
在管道满时，写进程阻塞，但管道空时，读进程阻塞。
管道进程必须提供以下三方的协调能力

1. 互斥：当一个进程正在对pipe进行读/写操作时，其它进程必须等待。
2. 同步：当写进程把一定量数据写入pipe时，便去睡眠等待，直到读进程取走数据后，唤醒写进程。读进程读一空pipe时，也应该睡眠等待，直到写进程将数据写入管道，才将之唤醒。
3. 确定对方是否存在，只有确定了对方已经存在时，才能进行通信。

## 分页存储

分页存储管理系统使用到存储分配表和页表  
页表，建立进程中的块（页）->  内存中的块（页框）的映射关系  
存储分配表记录空闲块的信息

## 测试

单元测试的基本测试单元是模块  
集成测试的基本测试单元是软件子系统和软件系统  
系统测试的基本测试单元是软件系统  

## 死锁

<https://www.nowcoder.com/test/question/done?tid=49829431&qid=5630>

死锁的必要条件:

1. 互斥条件:指进程对所分配的资源进行排它性使用，也就是说在某一段时间内，某资源只被一个进程占用，如果还有其它进程请求该资源，则请求的进程只能等待，直到该资源被释放。
2. 请求和保持条件:指一个进程已经拥有了某些资源,但是它还需要其它资源,于是又提出新的申请,而该资源又偏偏被其它进程占用,此时该申请资源的进程产生了阻塞, 它又不释放自己已占有的资源。
3. 不剥夺条件:指进程已获得的资源不能被剥夺,只有自己使用完之后才释放.( 可见如果资源可被剥夺,该条就不成立,所以A错 )
4. 环路等待条件:指发生死锁的时候,一定存在一个环路:进程1-资源2(被进程2占用)-资源3(被进程3占用).............-进程n-资源1(被进程1占用)

竞争临时资源会产生死锁  
如果进程在一次性申请其所需的全部资源成功后才运行，就不会发生死锁  
